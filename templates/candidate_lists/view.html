{% extends "layout.html" %}

{% block page_title %}{{ t!("candidate_list.view.title")|trans }}{% endblock %}
{% block candidate_lists_nav_class %}active{% endblock %}

{% block content %}
<nav>
  <a href="{{ CandidateList::list_path() }}" class="button md secondary">
    {{ t!("candidate_list.actions.back_to_list")|trans }}
  </a>
</nav>

<dialog class="modal">
  <form method="post" action="{{ details.list.add_person_path() }}">
    <button class="close-modal" aria-label="{{ t!("action.close")|trans }}">
      <span>
        {{ t!("action.close")|trans }}
      </span>
    </button>
    <h2>
      {{ t!("candidate_list.add_candidate")|trans }}
    </h2>
    {% if persons.is_empty() %}
    <p>{{ t!("person.view.empty")|trans }}</p>
    {% else %}
    {% include "candidate_lists/add_person_table.html" %}
    {% endif %}
  </form>
</dialog>

{% if details.candidates.is_empty() %}
<section>
  <p>{{ t!("candidate_list.view.empty")|trans }}</p>
</section>
{% else %}
<section>
  {% include "candidate_lists/candidates_table.html" %}
</section>
{% endif %}

<nav class="mt-lg">
  <button class="button open-modal" type="button">
    {{ t!("candidate_list.add_candidate")|trans }}
  </button>
</nav>
{% endblock %}
